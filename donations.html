<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Mask Donations</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Manrope:200,400,700,800&display=swap" rel="stylesheet">
	<style type="text/css">
	</style>
</head>

<body>
	<script src="https://code.jquery.com/jquery-3.4.1.js"   integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="   crossorigin="anonymous"language="javascript"></script>
	<script type="text/javascript">
		function validate()
		{
			f_name = document.forms[0].f_name.value;
			l_name = document.forms[0].l_name.value;
			masks = document.forms[0].masks.value;
			state = document.forms[0].state.value;
			zip = document.forms[0].zip.value;

			with(document.forms[0])
			{
				if (f_name.value == "")
				{
					alert("First Name is required");
					document.forms[0].f_name.focus();
					return false;
				}
				if (l_name.value == "")
				{
					alert("Last Name is required");
					document.forms[0].l_name.focus();
					return false;
				}
				if (masks.value == "")
				{
					alert("Number of Masks is required");
					document.forms[0].masks.focus();
					return false;
				}
				if (state.value == "")
				{
					alert("State is required");
					document.forms[0].state.focus();
					return false;
				}	
				if (state.value == "")
				{
					alert("State is required");
					document.forms[0].state.focus();
					return false;
				}
				if (state.value.length !== 2)
				{
					alert("Please enter two-letter state abbreviation");
					document.forms[0].state.focus();
					return false;
				}
				if (zip.value == "")
				{
					alert("Zip Code is required");
					document.forms[0].zip.focus();
					return false;
				}
				if (zip.value.length !== 5)
				{
					alert("Please enter valid Zip Code");
					document.forms[0].zip.focus();
					return false;
				}					
			}
			alert("Information successfully recorded. Thanks for donating!");
			return true;
		}

	</script>

	<div style="margin-left: 2%">
	<h2> Mask Donation Form </h2>
		<form class="block_form" method="get" action="https://donations-tracker-comp20.herokuapp.com" target="formDestination">
		<form method="get" action="https://comp20-final.herokuapp.com/" target="formDestination">
			First Name: <input type="text" name="f_name">
			Last Name:  <input type="text" name="l_name">
			<br/> <br/>
			Number of Masks: <input type="Number" name="masks">
			<br/><br/>
			State: <input type="text" name="state">
			<br/><br/>
			Zip Code: <input type="text" name="zip">
			<br/><br/>
			<input type="submit" value="Make Your Donation Available" onclick="return validate()">
			<input type="reset" name="reset" value="Reset Form"></button>
		</form>
	<br/>
	<h2> Search for Mask Donors Near You </h2>
		<form method="get" action="http://localhost:8080"> <!-- TODO: change this to deployed heroku app -->
			Enter Your Zip Code: <input type="text" name="zip">
			<br/><br/>
			<input type="submit" value="Find a Donor!" onclick="return validate2()">
			<input type="reset" name="reset" value="Reset Form"></button>
		</form>
	</div>

	<iframe name="formDestination" style="display: none;"></iframe> <!-- cheeky trick to not reload the page -->
</body>

</html>